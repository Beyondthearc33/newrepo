<!-- <%- include("../partials/header.ejs") %> -->

<main class="account-container">
  <h1 class="account-title"><%= title %></h1>

  <% if (locals.flash && flash.message) { %>
  <div class="flash-message">
    <p><%= flash.message %></p>
  </div>
  <% } %>

   <% 
    const errorList = Array.isArray(errors)
      ? errors
      : (errors && typeof errors.array === "function" ? errors.array() : [])
  %>
  <% if (errorList.length) { %>
    <ul class="notice">
      <% errorList.forEach(err => { %>
        <li><%= err.msg %></li>
      <% }) %>
    </ul>
  <% } %>

  <form action="/account/login" method="post" id="loginForm" class="account-form">
    <label for="account_email">Email Address</label>
    <input type="email" id="email" name="account_email" required />

    <label for="account_password">Password</label>
    <input
      type="password"
      id="password"
      name="account_password"
      required
      pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"
      title="Password must be at least 12 characters long, include one uppercase letter, one lowercase letter, one number, and one special character."
    />
    <div class="password-requirements">
      Passwords must be at least <strong>12 characters</strong> long and include
      <strong>1 uppercase letter</strong>, <strong>1 number</strong>, and
      <strong>1 special character</strong>.
    </div>

    <button type="submit">Login</button>
  </form>

  <p class="register-link">
    Donâ€™t have an account?
    <a href="/account/register">Register here</a>.
  </p>
</main>

<!-- <%- include("../partials/footer.ejs") %> -->
